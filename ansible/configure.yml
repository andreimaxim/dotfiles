---
- hosts: localhost
  connection: local
  vars:
    dotfiles_repo: "https://github.com/andreimaxim/dotfiles.git"
    dotfiles_path: "{{ ansible_env.HOME }}/.dotfiles"
    cargo_packages:
      - { pkg: eza, bin: eza }
      - { pkg: bat, bin: bat }
      - { pkg: fd-find, bin: fd }
      - { pkg: ripgrep, bin: rg }
      - { pkg: starship, bin: starship }
      - { pkg: zoxide, bin: zoxide }
      - { pkg: git-delta, bin: delta }
      - { pkg: btop, bin: btop }
      - { pkg: zellij, bin: zellij }
      - { pkg: xh, bin: xh }
      - { pkg: du-dust, bin: dust }
      - { pkg: sd, bin: sd }
      - { pkg: procs, bin: procs }
    stow_packages:
      - bash
      - git
      - vim
      - delta
      - eza
      - lazygit
      - bat
      - tig
      - claude
      - opencode
      - emacs

  tasks:
    - include_tasks: tasks/rust-setup.yml
    - include_tasks: tasks/runtimes.yml
    - include_tasks: tasks/cli-tools.yml
    - include_tasks: tasks/ai-tools.yml
    - include_tasks: tasks/dotfiles.yml
    - include_tasks: tasks/flatpak.yml
